<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="templates/template-inicio.xhtml">
	<ui:define name="header">
	    
	</ui:define>
	<ui:define name="cuerpo">
		<h:form id="form-registro">
	   		<p:panelGrid>
		    	<p:row>
		    		<p:column>
		    			#{msgs.primerCampoRegistro}
		    		</p:column>
		    		
		    		<p:column>
		    			<p:inputText id="nombre" value="#{controller.user.login}"
		    			required="true" requiredMessage="#{msgs.requiredNombre}"
		    			validatorMessage="#{msgs.vNombreCorto}"
		    			validator="#{controller.loginValidator}">		    			
		    			</p:inputText>
		    			<p:message for="nombre" styleClass="error"/>
		    		</p:column>
		    	</p:row>
		    	
		    	<p:row>
		    		<p:column>
		    			#{msgs.segundoCampoRegistro}
		    		</p:column>
		    		
		    		<p:column>
		    			<p:inputText id="email" value="#{controller.user.email}"
		    			required="true" requiredMessage="#{msgs.requiredEmail}"
		    			validatorMessage="#{msgs.vEmail}">
		    			<f:validateRegex 
		    			pattern="^[_a-z0-9-]+(.[_a-z0-9-]+)*@[a-z0-9-]+(.[a-z0-9-]+)*(.[a-z]{2,4})$"/>
		    			</p:inputText>
		    			<p:message for="email" styleClass="error"/>
		    		</p:column>
		    	</p:row>
		    	
	    		<p:row>
		    		<p:column>
		    			#{msgs.password}
		    		</p:column>
		    		
		    		<p:column>
		    			<p:password id="passw" value="#{controller.user.password}"
		    			required="true" requiredMessage="#{msgs.requiredPass}"
		    			/>
		    			<p:message for="passw" styleClass="error"/>
		    		</p:column>
		    	</p:row>
		    	
		    	<p:row>
		    		<p:column>
		    			#{msgs.rpassword}
		    		</p:column>
		    		
		    		<p:column>
		    			<p:password id="passwConf" value="#{controller.passwordConfirmacion}"
		    			required="true" requiredMessage="#{msgs.requiredPass}"
		    			validatorMessage="#{msgs.vMinPass}"
		    			converterMessage="#{msgs.vPass}"
		    			validator="#{controller.passwValidator}">
		    			</p:password>
		    			<p:message for="passwConf" styleClass="error"/>
		    		</p:column>
		    	</p:row>
		    	
	    		<p:row>
		    		<p:column>
		    		
		    		</p:column>
		    		
		    		<p:column>
		    			<p:commandButton
			   			value="#{msgs.linkRegistroLogin}"
		    			id="registrar"
		   				action="#{controller.registrar()}"
		   				update="@form"/>
		    		</p:column>
		    	</p:row>
	    	</p:panelGrid>
	    	<p:messages for="form-registro" globalOnly="true"/>
	   </h:form>
	</ui:define>
	<ui:define name="pie">
		<p:panel>
		    <div>
		    	<a href="login.xhtml">#{msgs.enlaceAtras}</a>
		    </div>
	    </p:panel>
	</ui:define>
</ui:composition>
</html>